
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ornum IT Solutions</title>

<style>
body{
font-family:Arial,Helvetica,sans-serif;
margin:0;
background:#0f172a;
color:white;
}

header{
background:#020617;
padding:18px;
text-align:center;
font-size:26px;
font-weight:bold;
}

section{
padding:40px 20px;
max-width:900px;
margin:auto;
}

.card{
background:#1e293b;
padding:20px;
margin:15px 0;
border-radius:12px;
box-shadow:0 0 10px rgba(0,0,0,.4);
}

h2{color:#38bdf8}

footer{
text-align:center;
padding:25px;
background:#020617;
margin-top:40px;
}

/* ---------- AI BUTTON ---------- */

#aiButton{
position:fixed;
bottom:20px;
right:20px;
background:#22c55e;
padding:14px 18px;
border-radius:40px;
cursor:pointer;
font-weight:bold;
box-shadow:0 0 12px rgba(0,0,0,.5);
}

/* ---------- AI BOX ---------- */

#aiBox{
position:fixed;
bottom:85px;
right:20px;
width:320px;
height:460px;
background:#020617;
border-radius:15px;
display:none;
flex-direction:column;
overflow:hidden;
box-shadow:0 0 20px rgba(0,0,0,.8);
}

#aiMessages{
flex:1;
overflow-y:auto;
padding:12px;
font-size:14px;
}

.aiUser{
background:#2563eb;
padding:8px 10px;
margin:6px 0;
border-radius:10px;
align-self:flex-end;
max-width:80%;
}

.aiBot{
background:#334155;
padding:8px 10px;
margin:6px 0;
border-radius:10px;
max-width:80%;
}

#aiInput{
display:flex;
border-top:1px solid #334155;
}

#aiInput input{
flex:1;
border:none;
padding:12px;
background:#020617;
color:white;
outline:none;
}

#aiInput button{
background:#22c55e;
border:none;
padding:12px 16px;
cursor:pointer;
font-weight:bold;
}
</style>
</head>

<body>

<header>Ornum IT Solutions</header>

<section>
<h2>Computer & Laptop Repairs</h2>

<div class="card">
‚úî Windows Installation  
‚úî Virus Removal  
‚úî Slow PC Speed-up  
‚úî SSD & RAM Upgrades  
‚úî Data Recovery  
‚úî Software Troubleshooting
</div>

<div class="card">
<b>Location:</b> Cape Town  
<b>WhatsApp:</b> 068 078 0521
</div>

<div class="card">
<b>Instant Help:</b>  
Use our AI assistant to diagnose your computer problem and get a repair quote immediately.
</div>

</section>

<footer>
¬© 2026 Ornum IT Solutions
</footer>

<!-- AI BUTTON -->
<div id="aiButton">üí¨ AI Help</div>

<!-- AI CHAT -->
<div id="aiBox">
<div id="aiMessages"></div>

<div id="aiInput">
<input id="aiText" type="text" placeholder="Describe your computer problem...">
<button onclick="askAI()">Send</button>
</div>
</div>

<script>

const AI_SERVER = "https://ornum-it-website.onrender.com";
/*https://api.render.com/deploy/srv-d66ck1ur433s73dh8trg?key=oUcGJSYZ2HA
*/

let history = JSON.parse(localStorage.getItem("ornum_history")||"[]");

const aiBox=document.getElementById("aiBox");
const aiBtn=document.getElementById("aiButton");
const messages=document.getElementById("aiMessages");

aiBtn.onclick=()=>{
aiBox.style.display = aiBox.style.display==="flex"?"none":"flex";
};

function addMsg(text,cls){
const div=document.createElement("div");
div.className=cls;
div.innerHTML=text;
messages.appendChild(div);
messages.scrollTop=messages.scrollHeight;
}

async function askAI(){
const input=document.getElementById("aiText");
const msg=input.value.trim();
if(!msg) return;

addMsg(msg,"aiUser");
history.push({role:"user",content:msg});
localStorage.setItem("ornum_history",JSON.stringify(history));

input.value="";
addMsg("Thinking...","aiBot");

try{

const res=await fetch(AI_SERVER,{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({messages:history})
});

const data=await res.json();
document.querySelectorAll(".aiBot").forEach(e=>{
if(e.innerText==="Thinking...") e.remove();
});

addMsg(data.reply,"aiBot");

history.push({role:"assistant",content:data.reply});
localStorage.setItem("ornum_history",JSON.stringify(history));

detectQuote(data.reply);

}catch(e){
addMsg("‚ö†Ô∏è AI is offline right now. Please try again later.","aiBot");
}
}

/* ---------- AUTO WHATSAPP BOOKING ---------- */

function detectQuote(text){

if(!text.toLowerCase().includes("quote")) return;

const phone="27680780521";
const msg=encodeURIComponent(
"Hello Ornum IT, I would like to book a repair. AI quote: "+text
);

const link=`<br><a href="https://wa.me/${phone}?text=${msg}" target="_blank" style="color:#22c55e;font-weight:bold;">üì≤ Book on WhatsApp</a>`;

addMsg(link,"aiBot");
}

</script>

</body>
</html>